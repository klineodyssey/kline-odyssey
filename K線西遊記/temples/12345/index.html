<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>äº”æŒ‡å±±12345æ‚Ÿç©ºè²¡ç¥æ®¿ V5</title>

<style>
body{
    margin:0;
    font-family:"Microsoft JhengHei",sans-serif;
    background:black;
    color:#ffd700;
    overflow-x:hidden;
    text-align:center;
}

canvas{
    position:fixed;
    top:0;
    left:0;
    z-index:-1;
}

h1{
    margin-top:20px;
    text-shadow:0 0 20px gold;
}

.version{
    position:fixed;
    top:10px;
    right:20px;
    font-size:12px;
    color:#aaa;
}

.panel{
    margin:20px auto;
    padding:20px;
    width:90%;
    max-width:900px;
    background:rgba(0,0,0,0.6);
    border:1px solid gold;
    border-radius:15px;
    box-shadow:0 0 30px rgba(255,215,0,0.3);
}

button{
    background:black;
    color:gold;
    border:1px solid gold;
    padding:8px 16px;
    margin:5px;
    border-radius:8px;
    cursor:pointer;
}

button:hover{
    background:gold;
    color:black;
}

textarea{
    width:90%;
    height:70px;
    background:#111;
    color:gold;
    border:1px solid gold;
    border-radius:10px;
    padding:10px;
}

.progress-bar{
    width:100%;
    height:20px;
    background:#222;
    border-radius:20px;
    overflow:hidden;
}

.progress-fill{
    height:100%;
    background:linear-gradient(90deg,gold,orange);
    width:0%;
    transition:width 1s;
}

.ai-avatar{
    width:120px;
    height:120px;
    border-radius:50%;
    background:radial-gradient(circle,gold,#333);
    margin:10px auto;
    box-shadow:0 0 25px gold;
    animation:pulse 3s infinite;
}

@keyframes pulse{
    0%{box-shadow:0 0 10px gold;}
    50%{box-shadow:0 0 40px gold;}
    100%{box-shadow:0 0 10px gold;}
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="version">
V5 Eternal Heart Â· <span id="clock"></span>
</div>

<h1>äº”æŒ‡å±± 12345 æ‚Ÿç©ºè²¡ç¥æ®¿</h1>

<div class="panel">
<h2>ğŸ«€ æ‚Ÿç©ºå¿ƒè‡Ÿè¡€é‡</h2>
<div id="heartDisplay"></div>
<div class="progress-bar">
<div class="progress-fill" id="heartBar"></div>
</div>
<p>ä¸‹æ¬¡å¿ƒè·³å€’æ•¸ï¼š<span id="heartbeatCountdown"></span></p>
<p>ä¸‹æ¬¡é»ç«å€’æ•¸ï¼š<span id="igniteCountdown"></span></p>
</div>

<div class="panel">
<h2>ğŸ“¸ ç¥æ®¿ç•™å½±</h2>
<video id="video" width="300" autoplay></video><br>
<button onclick="takePhoto()">æ‹ç…§</button>
<canvas id="photoCanvas" width="300" height="225"></canvas><br>
<button onclick="downloadPhoto()">ä¸‹è¼‰ç…§ç‰‡</button>
</div>

<div class="panel">
<h2>âœ¨ è¨±é¡˜æ˜Ÿè¾°</h2>
<textarea id="wishInput" placeholder="å¯«ä¸‹ä½ çš„é¡˜æœ›"></textarea><br>
<button onclick="generateWishCertificate()">ç”Ÿæˆé¡˜æœ›è­‰æ›¸</button>
<canvas id="wishCanvas" width="500" height="300"></canvas><br>
<button onclick="downloadWish()">ä¸‹è¼‰é¡˜æœ›è­‰æ›¸</button>
</div>

<div class="panel">
<h2>ğŸ‘©â€ğŸš€ AI ä»™å¥³å®¢æœ</h2>
<div class="ai-avatar"></div>
<button onclick="speak()">èªéŸ³å•å€™</button>
<textarea id="chatInput" placeholder="è¼¸å…¥ä½ çš„å•é¡Œ"></textarea><br>
<button onclick="chat()">é€å‡º</button>
<div id="chatLog"></div>
</div>

<script>
/* ===== æ˜Ÿè¾°å‹•ç•« ===== */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let stars = [];
for(let i=0;i<200;i++){
    stars.push({x:Math.random()*canvas.width,
                y:Math.random()*canvas.height,
                r:Math.random()*2});
}

function animateStars(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="white";
    stars.forEach(s=>{
        ctx.beginPath();
        ctx.arc(s.x,s.y,s.r,0,2*Math.PI);
        ctx.fill();
        s.y+=0.1;
        if(s.y>canvas.height)s.y=0;
    });
    requestAnimationFrame(animateStars);
}
animateStars();

/* ===== æ™‚é˜ ===== */
setInterval(()=>{
    document.getElementById("clock").innerText=
    new Date().toLocaleString();
},1000);

/* ===== å¿ƒè‡Ÿæ©Ÿåˆ¶ ===== */
let heartCurrent=108000;
let heartMax=720000;

function updateHeart(){
    document.getElementById("heartDisplay").innerText=
    heartCurrent+" / "+heartMax;
    let percent=(heartCurrent/heartMax)*100;
    document.getElementById("heartBar").style.width=percent+"%";
}
updateHeart();

/* ===== å¿ƒè·³æ¯å°æ™‚å€’æ•¸ ===== */
function updateHeartbeatCountdown(){
    let now=new Date();
    let next=new Date();
    next.setMinutes(60);
    next.setSeconds(0);
    let diff=(next-now)/1000;
    let m=Math.floor(diff/60);
    let s=Math.floor(diff%60);
    document.getElementById("heartbeatCountdown").innerText=
    m+"åˆ†"+s+"ç§’";
}
setInterval(updateHeartbeatCountdown,1000);

/* ===== é»ç«æ¯æ—¥å€’æ•¸ ===== */
function updateIgniteCountdown(){
    let now=new Date();
    let next=new Date();
    next.setHours(24,0,0,0);
    let diff=(next-now)/1000;
    let h=Math.floor(diff/3600);
    let m=Math.floor((diff%3600)/60);
    let s=Math.floor(diff%60);
    document.getElementById("igniteCountdown").innerText=
    h+"æ™‚"+m+"åˆ†"+s+"ç§’";
}
setInterval(updateIgniteCountdown,1000);

/* ===== ç›¸æ©Ÿ ===== */
navigator.mediaDevices.getUserMedia({video:true})
.then(stream=>{
    document.getElementById("video").srcObject=stream;
});

function takePhoto(){
    let video=document.getElementById("video");
    let canvas=document.getElementById("photoCanvas");
    let ctx=canvas.getContext("2d");
    ctx.drawImage(video,0,0,300,225);
    ctx.fillStyle="gold";
    ctx.font="14px Arial";
    ctx.fillText("äº”æŒ‡å±±12345æ‚Ÿç©ºè²¡ç¥æ®¿",
    10,20);
    ctx.fillText(new Date().toLocaleString(),
    10,40);
}

function downloadPhoto(){
    let link=document.createElement("a");
    link.download="temple_photo.png";
    link.href=document.getElementById("photoCanvas")
    .toDataURL();
    link.click();
}

/* ===== é¡˜æœ›è­‰æ›¸ ===== */
function generateWishCertificate(){
    let wish=document.getElementById("wishInput").value;
    let canvas=document.getElementById("wishCanvas");
    let ctx=canvas.getContext("2d");
    ctx.fillStyle="black";
    ctx.fillRect(0,0,500,300);
    ctx.fillStyle="gold";
    ctx.font="20px Arial";
    ctx.fillText("äº”æŒ‡å±±é¡˜æœ›è­‰æ›¸",150,50);
    ctx.font="16px Arial";
    ctx.fillText(wish,50,150);
    ctx.fillText(new Date().toLocaleString(),
    50,200);
}

function downloadWish(){
    let link=document.createElement("a");
    link.download="wish_certificate.png";
    link.href=document.getElementById("wishCanvas")
    .toDataURL();
    link.click();
}

/* ===== AI å®¢æœ ===== */
function speak(){
    let msg=new SpeechSynthesisUtterance(
    "æ‚Ÿç©ºç¥ä½ ç›†æ»¿ç¼½æ»¿");
    speechSynthesis.speak(msg);
}

function chat(){
    let input=document.getElementById("chatInput").value;
    document.getElementById("chatLog").innerText=
    "ä»™å¥³å›æ‡‰ï¼šæ‚Ÿç©ºè½è¦‹äº† â†’ "+input;
}
</script>

</body>
</html>
