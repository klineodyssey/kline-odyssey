<!-- Official Entry (Top-Right) -->
<div style="position:sticky; top:10px; z-index:9999; display:flex; justify-content:flex-end; margin:10px 0;">
  <a href="https://klineodyssey.github.io/kline-odyssey/"
     target="_blank" rel="noopener"
     style="display:inline-flex; align-items:center; gap:8px;
            padding:10px 14px; border-radius:999px;
            font-weight:800; text-decoration:none;
            border:1px solid #111; background:#fff;">
    ğŸŒ Official Website
  </a>
</div>

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>äº”æŒ‡å±±ãƒ»æ‚Ÿç©ºè²¡ç¥æ®¿ 12345</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- VERSION: WuzhiShan-12345 Temple V2.0.0 -->
<!-- MODE: DEMO (åˆ‡æ› LIVE éœ€å¡«å…¥ Heart åˆç´„åœ°å€) -->

<style>
body{
  margin:0;
  background:#050505;
  color:#fff;
  font-family:Arial, Helvetica, sans-serif;
  text-align:center;
}

header{
  padding:30px 10px;
  font-size:24px;
  font-weight:900;
}

.sub{
  color:#aaa;
  font-size:13px;
  margin-bottom:25px;
}

.panel{
  border:1px solid #333;
  padding:20px;
  margin:20px auto;
  width:90%;
  max-width:720px;
  border-radius:12px;
  background:#111;
}

button{
  padding:10px 18px;
  background:#222;
  color:white;
  border:1px solid #444;
  cursor:pointer;
  margin:8px;
  border-radius:8px;
}

button:hover{ background:#333; }

input{
  padding:8px;
  margin:8px;
  border-radius:6px;
  border:1px solid #444;
  background:#000;
  color:white;
}

.version{
  font-size:12px;
  color:#888;
  margin-top:20px;
}

.status{
  font-size:14px;
  color:#66ffcc;
  margin-top:10px;
}
</style>
</head>

<body>

<header>
äº”æŒ‡å±±ãƒ»æ‚Ÿç©ºè²¡ç¥æ®¿ 12345
</header>

<div class="sub">
æ‚Ÿç©ºè¢«å£“äº”æŒ‡å±±ã€‚<br>
å¿ƒè‡Ÿå°šåœ¨è·³å‹•ã€‚<br>
å®‡å®™å‘¼å¸ä¸å¯ä¸­æ–·ã€‚
</div>

<div class="panel">
<h3>ğŸŒ¬ å‘¼å¸çª—å£ï¼ˆ00:00â€“00:10 UTC+8ï¼‰</h3>
<div id="breathCountdown">è¨ˆç®—ä¸­...</div>
</div>

<div class="panel">
<h3>ğŸ’“ æ¯å°æ™‚å¿ƒè·³</h3>
<div id="heartbeatInfo">å°šæœªè§¸ç™¼</div>
<button onclick="heartbeat()">å¿ƒè·³</button>
</div>

<div class="panel">
<h3>ğŸ’° ç™¼è²¡é‡‘</h3>
<div>æ¯æœˆæœ€å¤š 500 å / æ¯äºº 1~888 KGEN</div>
<input type="number" id="fortuneAmount" placeholder="1~888">
<br>
<button onclick="claimFortune()">é ˜ç™¼è²¡é‡‘</button>
</div>

<div class="panel">
<h3>ğŸ™ é‚„é¡˜ï¼ˆå›æ”¶è¡€ï¼‰</h3>
<div>ç›®å‰ï¼šå–®ä¸€å¿ƒè‡Ÿåœ°å€</div>
<div id="heartAddress">å°šæœªè¨­å®š</div>
</div>

<div class="panel">
<h3>âš™ ç³»çµ±æ¨¡å¼</h3>
<div id="modeStatus">MODE: DEMO</div>
<button onclick="connectWallet()">é€£æ¥éŒ¢åŒ…</button>
</div>

<div style="margin:40px;">
<a href="../../index.html" style="color:#888;">â† è¿”å›å®‡å®™å…¥å£</a>
</div>

<div class="version">
WuzhiShan Temple V2.0.0
</div>

<script src="./assets/ethers-5.7.2.umd.min.js"></script>

<script>
/* ========= CONFIG ========= */

let MODE = "DEMO"; // DEMO / LIVE
let HEART_CONTRACT = ""; // LIVE æ™‚å¡«å…¥ Heart åœ°å€

/* ========= å‘¼å¸å€’æ•¸ ========= */

function updateBreath(){
  const now = new Date();
  const utc8 = new Date(now.getTime() + 8*60*60*1000);
  const sec = utc8.getHours()*3600 + utc8.getMinutes()*60 + utc8.getSeconds();

  const start = 0;
  const end = 600;

  if(sec >= start && sec <= end){
    document.getElementById("breathCountdown").innerText =
      "ğŸŒ¬ å‘¼å¸é€²è¡Œä¸­";
  }else{
    const next = 86400 - sec;
    document.getElementById("breathCountdown").innerText =
      "è·é›¢ä¸‹ä¸€æ¬¡å‘¼å¸ç´„ " + Math.floor(next/60) + " åˆ†é˜";
  }
}

setInterval(updateBreath,1000);
updateBreath();

/* ========= å¿ƒè·³ ========= */

function heartbeat(){
  const now = new Date().toLocaleTimeString();
  document.getElementById("heartbeatInfo").innerText =
    "ğŸ’“ å¿ƒè·³è§¸ç™¼æ–¼ " + now;

  if(MODE === "LIVE"){
    // é€™è£¡æœªä¾†æ¥ Heart åˆç´„ heartbeatClaim()
  }
}

/* ========= ç™¼è²¡é‡‘ ========= */

function claimFortune(){
  const val = parseInt(document.getElementById("fortuneAmount").value);
  if(!val || val < 1 || val > 888){
    alert("é‡‘é¡éœ€ 1~888");
    return;
  }

  if(MODE === "DEMO"){
    alert("DEMO æ¨¡å¼ï¼šç”³è«‹ " + val + " KGEN");
  }else{
    // LIVE æ¨¡å¼å‘¼å«åˆç´„
  }
}

/* ========= éŒ¢åŒ…é€£æ¥ ========= */

async function connectWallet(){
  if(typeof window.ethereum === "undefined"){
    alert("è«‹å®‰è£ MetaMask");
    return;
  }

  await window.ethereum.request({ method: "eth_requestAccounts" });
  document.getElementById("modeStatus").innerText =
    "éŒ¢åŒ…å·²é€£æ¥ï¼ˆä»ç‚º DEMO æ¨¡å¼ï¼‰";
}
</script>

</body>
</html>
